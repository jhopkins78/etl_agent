# Report Agent Module

The Report Agent is the final step in the Insight Agent pipeline, responsible for compiling all analysis phases (EDA, Modeling, Evaluation) into a cohesive, professional Markdown report.

## Overview

The Report Agent reads fragments from previous steps in the pipeline, combines them into a single document, and adds necessary formatting and structure to create a complete analysis report. It serves as the final step before dashboard display or client delivery.

## Features

- **Comprehensive Report Generation**: Combines EDA, modeling, and evaluation results into a single document
- **Professional Formatting**: Adds title, table of contents, introduction, and conclusion
- **Assignment Integration**: Incorporates assignment metadata from assignment.md into the introduction
- **Timestamp**: Adds a timestamp to indicate when the report was generated
- **Modular Design**: Each section is generated independently and then combined

## Usage

### From Command Line

```bash
# Generate a report with default settings
python -m insight_agent.tasks.report_agent

# Specify a custom output path
python -m insight_agent.tasks.report_agent --output /path/to/custom/report.md
```

### From Python Code

```python
from insight_agent.tasks.report_agent import generate_report

# Generate a report with default settings
success = generate_report()

# Generate a report with a specific assignment file
success = generate_report(assignment_path="/path/to/assignment.md")
```

### From Insight Agent

```bash
# Generate a report with default settings
python -m insight_agent.insight_agent --generate-report

# Generate a report with a specific assignment file
python -m insight_agent.insight_agent --generate-report --assignment /path/to/assignment.md
```

## Input Sources

The Report Agent reads from the following sources:

1. **EDA Report**: `reports/eda_report.md` - Generated by the EDA Agent
2. **Model Report**: `reports/model_report.md` - Generated by the Model Agent
3. **Evaluation Report**: `reports/evaluation_report.md` - Generated by the Evaluation Agent
4. **Assignment File**: `assignment.md` - Optional, contains metadata about the assignment

## Output

The final report is saved to `reports/final_report.md` and includes:

1. **Title**: "Data Analysis Report"
2. **Timestamp**: When the report was generated
3. **Table of Contents**: Automatically generated from section headings
4. **Introduction**: General introduction with assignment metadata if available
5. **EDA Section**: Exploratory Data Analysis results
6. **Modeling Section**: Model training results
7. **Evaluation Section**: Model evaluation results
8. **Conclusion**: Summary of findings and potential future work

## Report Structure

```
# Data Analysis Report

*This report was automatically generated by the Insight Agent on [TIMESTAMP]*

[Brief summary of the report]

## Table of Contents
- [Introduction](#introduction)
- [Exploratory Data Analysis](#exploratory-data-analysis)
- [Modeling](#modeling)
- [Evaluation](#evaluation)
- [Conclusion](#conclusion)

## Introduction
[Assignment metadata if available]
[General introduction to the analysis]

## Exploratory Data Analysis
[Content from EDA Agent]

## Modeling
[Content from Model Agent]

## Evaluation
[Content from Evaluation Agent]

## Conclusion
[Summary of findings]
[Key insights]
[Potential future work]
```

## Integration with Pipeline

The Report Agent is designed to be the final step in the Insight Agent pipeline:

1. **File Router Agent**: Routes files to appropriate locations
2. **EDA Agent**: Performs exploratory data analysis
3. **Model Agent**: Trains machine learning models
4. **Evaluation Agent**: Evaluates model performance
5. **Report Agent**: Compiles all results into a final report

## Technical Details

- **Language**: Python 3.8+
- **Dependencies**: Standard library only (os, re, datetime, pathlib)
- **Input Format**: Markdown files from previous pipeline steps
- **Output Format**: Markdown file ready for conversion to PDF or HTML
